@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light theme - warm, sophisticated palette */
    --background: 250 249 247;
    --foreground: 28 25 23;
    --card: 255 255 255;
    --card-foreground: 28 25 23;
    --primary: 28 25 23;
    --primary-foreground: 255 255 255;
    --secondary: 245 243 240;
    --secondary-foreground: 28 25 23;
    --muted: 245 243 240;
    --muted-foreground: 120 113 108;
    --accent: 245 243 240;
    --accent-foreground: 28 25 23;
    --destructive: 220 38 38;
    --destructive-foreground: 255 255 255;
    --border: 231 229 225;
    --input: 231 229 225;
    --ring: 28 25 23;

    /* Financial colors */
    --gain: 22 163 74;
    --loss: 220 38 38;
    --gold: 217 164 6;

    /* Category colors */
    --amber-500: 245 158 11;
    --green-500: 34 197 94;
    --blue-600: 37 99 235;
    --cyan-400: 34 211 238;
    --purple-500: 168 85 247;
    --yellow-500: 234 179 8;
    --rose-500: 244 63 94;
    --lime-400: 163 230 53;
    --teal-500: 20 184 166;
    --slate-500: 100 116 139;

    /* Logo gradient */
    --logoGradientStart: 59 130 246;
    --logoGradientEnd: 147 51 234;

    /* OKLCH color space variants for better dark mode */
    --background-oklch: oklch(98% 0.01 80);
    --foreground-oklch: oklch(15% 0.02 40);
    --card-oklch: oklch(100% 0 0);
    --primary-oklch: oklch(15% 0.02 40);
    --secondary-oklch: oklch(96% 0.01 80);
    --muted-oklch: oklch(96% 0.01 80);
    --accent-oklch: oklch(96% 0.01 80);
    --destructive-oklch: oklch(50% 0.22 25);
    --border-oklch: oklch(92% 0.01 80);
  }

  .dark {
    /* Dark theme - rich, premium feel */
    --background: 15 15 15;
    --foreground: 250 250 249;
    --card: 23 23 23;
    --card-foreground: 250 250 249;
    --primary: 250 250 249;
    --primary-foreground: 15 15 15;
    --secondary: 38 38 38;
    --secondary-foreground: 250 250 249;
    --muted: 38 38 38;
    --muted-foreground: 163 163 163;
    --accent: 38 38 38;
    --accent-foreground: 250 250 249;
    --destructive: 239 68 68;
    --destructive-foreground: 250 250 249;
    --border: 38 38 38;
    --input: 38 38 38;
    --ring: 212 212 212;

    /* Financial colors - darker variants */
    --gain: 34 197 94;
    --loss: 248 113 113;
    --gold: 250 204 21;

    /* OKLCH color space variants for dark mode */
    --background-oklch: oklch(10% 0 0);
    --foreground-oklch: oklch(98% 0 0);
    --card-oklch: oklch(15% 0 0);
    --primary-oklch: oklch(98% 0 0);
    --secondary-oklch: oklch(20% 0 0);
    --muted-oklch: oklch(20% 0 0);
    --accent-oklch: oklch(20% 0 0);
    --destructive-oklch: oklch(58% 0.20 25);
    --border-oklch: oklch(20% 0 0);
  }

  * {
    border-color: rgb(var(--border));
  }

  html {
    scroll-behavior: smooth;
    /* WCAG 2.2 Focus Not Obscured (2.4.11) - offset for sticky header */
    scroll-padding-top: 5rem; /* 80px - accounts for sticky header height */
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Outfit', system-ui, sans-serif;
  }

  /* Premium typography */
  .font-display {
    font-family: 'DM Serif Display', Georgia, serif;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold tracking-tight;
  }

  /* Financial number styling */
  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-border rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/50;
  }

  /* Focus styles - Enhanced for WCAG 2.2 compliance */
  *:focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }

  /* Stronger focus for buttons and interactive elements */
  button:focus-visible,
  a:focus-visible,
  [role="button"]:focus-visible {
    @apply ring-2 ring-primary ring-offset-2;
  }

  /* Input focus - distinct from button focus */
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    @apply ring-2 ring-ring ring-offset-2;
  }

  /* Links - more subtle */
  a {
    @apply transition-colors duration-200;
  }
}

@layer components {
  /* Glass effect card */
  .glass {
    @apply bg-card/80 backdrop-blur-xl border border-border/50;
  }

  /* Subtle glow effect */
  .glow-sm {
    box-shadow: 0 0 20px -5px rgb(var(--gain) / 0.15);
  }

  .glow-gold {
    box-shadow: 0 0 30px -5px rgb(var(--gold) / 0.2);
  }

  /* Premium card hover */
  .card-hover {
    @apply transition-all duration-300 ease-out;
  }

  .card-hover:hover {
    @apply -translate-y-0.5;
    box-shadow: 0 20px 40px -15px rgb(0 0 0 / 0.1);
  }

  /* Gradient text */
  .gradient-text {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-foreground to-foreground/70;
  }

  /* Metric display */
  .metric-value {
    @apply font-display text-4xl md:text-5xl tracking-tight tabular-nums;
  }

  .metric-label {
    @apply text-xs font-medium uppercase tracking-widest text-muted-foreground;
  }

}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Animation delays */
  .delay-75 { animation-delay: 75ms; }
  .delay-150 { animation-delay: 150ms; }
  .delay-225 { animation-delay: 225ms; }
  .delay-300 { animation-delay: 300ms; }
  .delay-375 { animation-delay: 375ms; }
  .delay-450 { animation-delay: 450ms; }

  /* Smooth entrance animation */
  .animate-in {
    animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    opacity: 0;
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(16px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Fade in animation */
  .animate-fade-in {
    animation: fadeIn 0.5s ease-out forwards;
    opacity: 0;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  /* Scale in animation */
  .animate-scale-in {
    animation: scaleIn 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    opacity: 0;
  }

  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  /* Slide from right */
  .animate-slide-right {
    animation: slideRight 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    opacity: 0;
  }

  @keyframes slideRight {
    from {
      opacity: 0;
      transform: translateX(-20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  /* Pulse glow effect for interactive elements */
  @keyframes pulseGlow {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(var(--gain), 0.4);
    }
    50% {
      box-shadow: 0 0 0 8px rgba(var(--gain), 0);
    }
  }

  .pulse-glow {
    animation: pulseGlow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* Smooth transitions for page changes */
  @media (prefers-reduced-motion: no-preference) {
    html {
      scroll-behavior: smooth;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}
